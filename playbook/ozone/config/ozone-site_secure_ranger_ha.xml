<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration SYSTEM "variables.dtd">

<configuration>

  <property>
    <name>ozone.om.address</name>
    <value>&om1-hostname;,&om2-hostname;,&om3-hostname;</value>
    <tag>OM, REQUIRED</tag>
    <description>
      The address of the Ozone OM service. This allows clients to discover
      the address of the OM.
    </description>
  </property>
  <property>
    <name>ozone.metadata.dirs</name>
    <value>/hadoop/ozone/data/disk1/data</value>
    <tag>OZONE, OM, SCM, CONTAINER, STORAGE, REQUIRED</tag>
    <description>
      This setting is the fallback location for SCM, OM, Recon and DataNodes
      to store their metadata. This setting may be used only in test/PoC
      clusters to simplify configuration.

      For production clusters or any time you care about performance, it is
      recommended that ozone.om.db.dirs, ozone.scm.db.dirs and
      dfs.container.ratis.datanode.storage.dir be configured separately.
    </description>
  </property>

  <property>
    <name>ozone.om.db.dirs</name>
    <value>/hadoop/ozone/data/disk1/om</value>
  </property>

<!-- Enable shareable tmp dir -->
  <property>
    <name>ozone.om.enable.ofs.shared.tmp.dir</name>
    <value>true</value>
  </property>

  <property>
    <name>ozone.scm.db.dirs</name>
    <value>/hadoop/ozone/data/disk1/scm</value>
  </property>

  <property>
    <name>dfs.container.ratis.datanode.storage.dir</name>
    <value>/hadoop/ozone/data/disk1/datanode/</value>
  </property>
  <property>
    <name>ozone.recon.db.dir</name>
    <value>/hadoop/ozone/data/disk1/recon</value>
  </property>


  <property>
    <name>hdds.datanode.dir</name>
    <value>/hadoop/ozone/data/disk1/datanode/data</value>
  </property>
  <property>
    <name>ozone.log.dir</name>
    <value>/var/log/hadoop-ozone/</value>
  </property>

  <!-- Added for Ranger setup -->
  <property>
    <name>ozone.acl.enabled</name>
    <value>true</value>
  </property>
  <property>
    <name>ozone.acl.authorizer.class</name>
    <value>org.apache.ranger.authorization.ozone.authorizer.RangerOzoneAuthorizer</value>
  </property>

  <property>
    <name>ozone.replication</name>
    <value>3</value>
  </property>


  <property>
    <name>ozone_datanode_heap_size</name>
    <value>2048</value>
  </property>

  <property>
    <name>ozone.datanode.pipeline.limit</name>
    <value>3</value>
  </property>
  <property>
    <name>ozone.recon.http-address</name>
    <value>&recon-hostname;:9888</value>
  </property>
  <property>
    <name>ozone.recon.address</name>
    <value>&recon-hostname;:9891</value>
  </property>

  <property>
    <name>ozone.scm.client.address</name>
    <value>&scm1-hostname;,&scm2-hostname;,&scm3-hostname;</value>
    <tag>OZONE, SCM, REQUIRED</tag>
    <description>
      The address of the Ozone SCM client service. This is a required setting.

      It is a string in the host:port format. The port number is optional
      and defaults to 9860.
    </description>
  </property>
  <property>
    <name>ozone.scm.names</name>
    <value>&scm1-hostname;,&scm2-hostname;,&scm3-hostname;</value>
    <tag>OZONE, REQUIRED</tag>
    <description>
      The value of this property is a set of DNS | DNS:PORT | IP
      Address | IP:PORT. Written as a comma separated string. e.g. scm1,
      scm2:8020, 7.7.7.7:7777.
      This property allows datanodes to discover where SCM is, so that
      datanodes can send heartbeat to SCM.
    </description>
  </property>


  <property>
    <name>ozone.security.enabled</name>
    <value>true</value>
  </property>

  <property>
    <name>hadoop.security.authentication</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>hdds.grpc.tls.enabled</name>
    <value>false</value>
    <tag>Ozone,HDDS,SECURITY,TLS</tag>
  </property>

  <property>
    <name>dfs.data.transfer.protection</name>
    <value>authentication</value>
  </property>
  <!--
    <property>
          <name>ozone.security.http.kerberos.enabled</name>
          <value>false</value>
    </property>
    <property>
          <name>ozone.http.filter.initializers</name>
          <value></value>
    </property>
  -->

  <property>
    <name>ozone.security.http.kerberos.enabled</name>
    <value>true</value>
  </property>
  <property>
    <name>ozone.http.filter.initializers</name>
    <value>org.apache.hadoop.security.AuthenticationFilterInitializer</value>
  </property>
  <!--

    <property>
      <name>ozone.om.s3.grpc.server_enabled</name>
      <value>true</value>
    </property>

   <property>
      <name>hdds.grpc.tls.enabled</name>
      <value>true</value>
    </property>

   <property>
   <name>ozone.om.transport.class</name>
   <value>org.apache.hadoop.ozone.om.protocolPB.GrpcOmTransportFactory</value>
    </property>
  -->


  <property>
    <name>hdds.scm.http.auth.type</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>ozone.s3g.http.auth.type</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>hdds.datanode.http.auth.type</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>ozone.om.http.auth.type</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>ozone.recon.http.auth.type</name>
    <value>kerberos</value>
  </property>


  <property>
    <name>hdds.scm.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>hdds.scm.kerberos.keytab.file</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>


  <property>
    <name>hdds.scm.http.auth.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>hdds.scm.http.auth.kerberos.keytab</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>ozone.om.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.om.kerberos.keytab.file</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>ozone.om.http.auth.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.om.http.auth.kerberos.keytab</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>


  <property>
    <name>ozone.s3g.http.auth.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.s3g.http.auth.kerberos.keytab</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>
  <property>
    <name>ozone.s3g.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.s3g.kerberos.keytab.file</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>
  <property>
    <name>dfs.datanode.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>dfs.datanode.keytab.file</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>hdds.datanode.http.auth.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>hdds.datanode.http.auth.kerberos.keytab</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>ozone.om.http.auth.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.om.http.auth.kerberos.keytab</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>ozone.recon.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.recon.kerberos.keytab.file</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>ozone.recon.http.auth.kerberos.principal</name>
    <value>ozone/_HOST@&hostname-suffix;</value>
  </property>
  <property>
    <name>ozone.recon.http.auth.kerberos.keytab</name>
    <value>/etc/security/keytabs/ozone.keytab</value>
  </property>

  <property>
    <name>ozone.om.ratis.enable</name>
    <value>true</value>
  </property>
  <property>
    <name>ozone.om.service.ids</name>
    <value>omcluster</value>
  </property>
  <property>
    <name>ozone.om.internal.service.id</name>
    <value>omcluster</value>
  </property>

  <property>
    <name>ozone.om.nodes.omcluster</name>
    <value>om1,om2,om3</value>
  </property>
  <property>
    <name>ozone.om.address.omcluster.om1</name>
    <value>&om1-hostname;</value>
  </property>
  <property>
    <name>ozone.om.address.omcluster.om2</name>
    <value>&om2-hostname;</value>
  </property>
  <property>
    <name>ozone.om.address.omcluster.om3</name>
    <value>&om3-hostname;</value>
  </property>
  <property>
    <name>ozone.om.http-address.omcluster.om1</name>
    <value>&om1-hostname;</value>
  </property>
  <property>
    <name>ozone.om.http-address.omcluster.om2</name>
    <value>&om2-hostname;</value>
  </property>
  <property>
    <name>ozone.om.http-address.omcluster.om3</name>
    <value>&om3-hostname;</value>
  </property>

  <property>
    <name>ozone.scm.ratis.enable</name>
    <value>true</value>
  </property>

  <property>
    <name>ozone.scm.service.ids</name>
    <value>cluster1</value>
  </property>
  <property>
    <name>ozone.scm.nodes.cluster1</name>
    <value>scm1,scm2,scm3</value>
  </property>
  <property>
    <name>ozone.scm.address.cluster1.scm1</name>
    <value>&scm1-hostname;</value>
  </property>
  <property>
    <name>ozone.scm.address.cluster1.scm2</name>
    <value>&scm2-hostname;</value>
  </property>
  <property>
    <name>ozone.scm.address.cluster1.scm3</name>
    <value>&scm3-hostname;</value>
  </property>
  <property>
    <name>ozone.scm.primordial.node.id</name>
    <value>&scm1-hostname;</value>
  </property>
  <property>
    <name>ozone.administrators</name>
    <value>ozone/&om1-hostname;@&hostname-suffix;,ozone/&om2-hostname;@&hostname-suffix;,ozone/&om3-hostname;@&hostname-suffix;,ozone/&dn1-hostname;@&hostname-suffix;,admin@&hostname-suffix;</value>
  </property>

</configuration>

