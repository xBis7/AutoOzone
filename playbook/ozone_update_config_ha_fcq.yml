- name: install ozone
  hosts: all
  become: true

  tasks:
  - name: Create directories on path if not exist
    file:
      path: /hadoop/app/ozone/etc/hadoop
      state: directory
      owner: ozone
      group: hadoop
      mode: '0755'
      force: yes
  - name: Copy core-site.xml
    copy:
      src: ./ozone/config/core-site.xml
      dest: /hadoop/app/ozone/etc/hadoop/core-site.xml
      owner: ozone
      group: hadoop
      mode: '0644'
  - name: Copy ozone-site.xml
    copy:
      src: ./ozone/config/ozone-site_ha_fcq.xml
      dest: /hadoop/app/ozone/etc/hadoop/ozone-site.xml
      owner: ozone
      group: hadoop
      mode: '0644'
  - name: Copy variables.dtd
    copy:
      src: ./ozone/config/variables.dtd
      dest: /hadoop/app/ozone/etc/hadoop/variables.dtd
      owner: ozone
      group: hadoop
      mode: '0644'
  - name: Copy variables.sh
    copy:
      src: ../variables.sh
      dest: /hadoop/app/ozone/etc/hadoop/variables.sh
      owner: ozone
      group: hadoop
      mode: '0644'
  - name: Copy ozone-env.sh
    copy:
      src: ./ozone/config/ozone-env.sh
      dest: /hadoop/app/ozone/etc/hadoop/ozone-env.sh
      owner: ozone
      group: hadoop
      mode: '0644'



